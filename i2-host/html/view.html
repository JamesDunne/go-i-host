{{define "view"}}
<!DOCTYPE html>

<html>
<head>
	<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta property="og:url" content="http://i.bittwiddlers.org/b/{{.Base62ID}}">
    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="i.bittwiddlers.org"/>
    <meta property="og:title" content="{{.Title}}"/>
    <meta property="og:description" content=""/>
    <meta property="og:image" content="http://i.bittwiddlers.org/t/{{.Base62ID}}{{.Extension}}">

    <title>{{.Title}}</title>

<style type="text/css">
html {
  width: 100%;
  height: 100%;
  display: table;
}	
body {
  width: 100%;
  height: 100%;
  display: table-cell;
  vertical-align: middle;
  text-align: center;
  background-color: {{.BGColor}};
  color: silver;
}
#container {
  display: inline-block;
}
</style>
</head>
<body onresize="resize()">
<div id="container" data-id="{{.ID}}">
	<img id="imain" onload="showme(this)" style="display: none" src="/{{.Base62ID}}{{.Extension}}" alt="{{.Title}}" title="{{.Title}}" />
    <img id="loader" alt="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAAAAAAAF/wABPAADvAAF/wADnAACfAACbCH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
</div>
<script>
	function showme(img) {
		// Determine the scaling factor to fill the screen:
		var iw = img.width, ih = img.height;
		var sw = Math.max(1, window.innerWidth - 8), sh = Math.max(1, window.innerHeight - 8);
		var wscale = sw / iw;
		var hscale = sh / ih;
		if (wscale < hscale)
			scale = wscale;
		else
			scale = hscale;

		// Set the main image's width/height:
		img.style.width = iw * scale + "px";
		img.style.height = ih * scale + "px";
		img.style.display = "block";

		// Hide the loader GIF:
		var loader = document.getElementById("loader");
		loader.style.display = "none";
	}

	function resize() {
		var imain = document.getElementById("imain")
		if (imain === undefined) return;
		showme(imain);
	}
</script>
</body>
</html>
{{end}}
